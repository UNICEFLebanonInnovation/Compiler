{% extends "base.html" %}
{% load staticfiles i18n %}

{% block extra_head %}

{#	<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.12/css/jquery.dataTables.min.css">#}
{#	<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/buttons/1.2.0/css/buttons.dataTables.min.css">#}
{#	<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/select/1.2.0/css/select.dataTables.min.css">#}

    <style>

        th {
            border-color: black;
            background-color: lightskyblue;
        }
    </style>

{% endblock %}

{% block content %}
         <section class="main-content-wrapper">
            <section id="main-content">
                 <div class="row">
                    <div class="col-md-12">
                        </br>
                    </div>
                </div>
            <div class="row">
                    <div class="col-md-12">
                        <div class="panel panel-default">
                          <div class="panel-heading">
                            <h3 class="panel-title">Students</h3>
                            <div class="actions pull-right">
                                <i class="fa fa-chevron-down"></i>
                                <i class="fa fa-times"></i>
                            </div>
                          </div>
                          <div class="panel-body">
                            <table cellpadding="0" cellspacing="0" border="0" class="table table-striped table-bordered" id="students" width="100%">
                                <thead>
                                    <tr>
                                        <th>id</th>
                                        <th>{% trans "Student fullname" %}</th>
                                        <th>{% trans "Mother fullname" %}</th>
                                    </tr>
                                </thead>
                                {% csrf_token %}
                            </table>
{#                                <table id="students" class="display" cellspacing="0" width="100%">#}
{#                                <thead>#}
{#                                    <tr>#}
{#                                        <th>{% trans "Student fullname" %}</th>#}
{#                                        <th>{% trans "Mother fullname" %}</th>#}
{#                                        <th>{% trans "Nationality" %}</th>#}
{#                                        <th>{% trans "Birthday" %}</th>#}
{#                                        <th>{% trans "Phone number" %}</th>#}
{#                                        <th>{% trans "ID number" %}</th>#}
{#                                        <th>{% trans "Address" %}</th>#}
{#                                    </tr>#}
{#                                </thead>#}
{##}
{#                                <tbody>#}
{#                                </tbody>#}
{#                            </table>#}
                        </div>
                     </div>
                </div>
            </div>

            </section>
         </section>

{% endblock %}

{% block extra_js %}
{##}
{#    <script type="text/javascript" language="javascript" src="//code.jquery.com/jquery-1.12.3.min.js"></script>#}
{#    <script type="text/javascript" src="https://cdn.datatables.net/1.10.11/js/jquery.dataTables.min.js"></script>#}
{#    <script type="text/javascript" src="https://cdn.datatables.net/1.10.11/js/dataTables.bootstrap.min.js"></script>#}
{#    <script type="text/javascript">#}
{#        $(document).ready(function(){#}
{#            $('#students').DataTable({#}
{#                scrollY: '50vh',#}
{#                scrollX: true,#}
{#                scrollCollapse: true,#}
{#                processing: true,#}
{#                serverSide: true,#}
{#                ajax: "{% url 'students:student_list_json' %}"#}
{#            });#}
{#        });#}
{#    </script>#}

{#    <script type="text/javascript" language="javascript" src="//code.jquery.com/jquery-1.12.3.min.js"></script>#}
{#    <script type="text/javascript" language="javascript" src="https://cdn.datatables.net/1.10.12/js/jquery.dataTables.min.js"></script>#}
{#    <script type="text/javascript" language="javascript" src="https://cdn.datatables.net/buttons/1.2.0/js/dataTables.buttons.min.js"></script>#}
{#    <script type="text/javascript" src="https://cdn.datatables.net/select/1.2.0/js/dataTables.select.min.js"></script>#}

    <script type="text/javascript" language="javascript" class="init">
        var editor;
        $(document).ready(function() {
            editor = new $.fn.dataTable.Editor( {
                ajax: "{% url 'students:student_update' %}",
{#                ajax: "/students/update/",#}
                table: "#students",
                idSrc:  'id',
                fields: [{
                        label: "ID:",
                        name: "id"
                    },
                    {
                        label: "Full name:",
                        name: "full_name"
                    }, {
                        label: "Mother fullname:",
                        name: "mother_fullname"
                    }
                ],
		i18n: {
			create: {
				button: "New",
				title:  "New",
				submit: "New"
			},
			edit: {
				button: "Edit",
				title:  "Edit",
				submit: "Edit"
			},
			remove: {
				button: "Delete",
				title:  "Delete",
				submit: "Delete",
				confirm: {
					_: "Etes-vous sûr de vouloir supprimer %d lignes?",
					1: "Etes-vous sûr de vouloir supprimer 1 ligne?"
				}
			},
			error: {
				system: "Une erreur s’est produite, contacter l’administrateur système"
			},
			datetime: {
				previous: 'Précédent',
				next:     'Premier',
				months:   [ 'Janvier', 'Février', 'Mars', 'Avril', 'Mai', 'Juin', 'Juillet', 'Août', 'Septembre', 'Octobre', 'Novembre', 'Décembre' ],
				weekdays: [ 'Dim', 'Lun', 'Mar', 'Mer', 'Jeu', 'Ven', 'Sam' ]
			}
		}
            } );
{##}
{#            $('#students').on( 'click', 'tbody td.editable', function (e) {#}
{#                editor.inline( this );#}
{#            } );#}

        $('#students').on( 'click', 'tbody td:not(:first-child)', function (e) {
                editor.inline( this, {
                    buttons: { label: '&gt;', fn: function () { this.submit(); } }
                } );
            } );

            $('#students').DataTable( {
                dom: 'Bfrtip',
                ajax: "{% url 'students:student_list_json' %}",
                columns: [
                    {"data": "id"},
                    {
                        "data": "full_name"
                    },
                    {
                        "data": "mother_fullname"
                    }
                ],
                order: [ 1, 'asc' ],
                select: {
                    style:    'os',
                    selector: 'td:first-child'
                },
                buttons: [
                    { extend: 'create', editor: editor },
                    { extend: 'edit',   editor: editor },
                    { extend: 'remove', editor: editor }
                ]
            } );
        } );
    </script>

{% endblock %}
