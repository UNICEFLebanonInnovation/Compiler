{% load staticfiles i18n %}
{% get_current_language as LANGUAGE_CODE %}
{% load util_tags %}

{% block extra_head %}

    <link rel="stylesheet" type="text/css" href="{% static 'css/bootstrap-breadcrumbs.css' %}">

{% endblock %}

<div id="add_household_visit_block" style="display: block;">

      <div class="alert alert-success" role="alert" id="alert-synchro-success" style="display: none;;">
          {% trans 'Household visit success' %}.
          {% trans 'Please click' %}
          <a class="nav-link" href="{% url 'hhvisit:household_visit' %}?ln={{ LANGUAGE_CODE }}">{% trans "here" %}</a>
          {% trans 'To start a new household visit' %}.
      </div>
      <div class="alert alert-success" role="alert" id="alert-cancel-success" style="display: none;;">
          {% trans 'Household visit cancelled' %}.
          {% trans 'Please click' %}
          <a class="nav-link" href="{% url 'hhvisit:household_visit' %}?ln={{ LANGUAGE_CODE }}">{% trans "here" %}</a>
          {% trans 'To start a new household visit' %}.
      </div>

      <form method="post" action="" class="inlineForm" id="household_visit_form" style="display: block;" onsubmit="return false;">
          <input type="hidden" name="id_hhvisit" id="main_id" />
      {#    {% csrf_token %}#}
          {% if form.errors %}
              {% for field in form %}
                  {% for error in field.errors %}
                      <div class="alert alert-danger">
                          <strong>{{ error|escape }}</strong>
                      </div>
                  {% endfor %}
              {% endfor %}
              {% for error in form.non_field_errors %}
                  <div class="alert alert-danger">
                      <strong>{{ error|escape }}</strong>
                  </div>
              {% endfor %}
          {% endif %}
          <div class="panel-body">
             <div class="panel-body">
          <div id="oneperframe" class="frame oneperframe" {% if LANGUAGE_CODE == 'ar-ar' %}lang="en" dir="ltr"{% endif %}>
              <ul class="slidee" {% if LANGUAGE_CODE == 'ar-ar' %}lang="en" dir="ltr"{% endif %}>
               {# 1 Slide household information #}
                      <li class="active framebox">
                          <h3 class="panel-title">{% trans "Household Specific Information" %}&nbsp;&nbsp;</h3>
                          <div class="line">
                              <label >{% trans "Name of Household Rep" %}&nbsp;&nbsp;</label> <span id ="hhVisitName"></span>
                              <br>
                              <label >{% trans "Household Rep ID Number" %}&nbsp;&nbsp;</label> <span id ="hhIdNumber"></span>
                          </div>
                          <div class="line">
                              <label >{% trans "Times visited" %}&nbsp;&nbsp;</label><span id ="hhAllvisitAttemptCount"></span>
                          </div>
                        <h3 class="panel-title" >{% trans "Household Found" %}</h3>
                        <br/>
                        <br/>
                        <span class="error" id="household_not_found_error">{% trans "Note is required" %}</span>
                        <table id="household-visit-attempt-table" class="table table-striped table-bordered cell-border"
                                       data-height="500"
                                       data-pagination="true"
                                       data-search="true"
                                       cellspacing="0"
                                       width="100%">
          <thead>
              <tr>
                  <th style = "display:none">ID</th>
                  <th>Date</th>
                  <th>Household was not found</th>
                  <th>Note</th>
              </tr>
          </thead>
          <tbody>

          </tbody>
      </table>
                      </li>
                  {# 2 Slide children data #}
                      <li class="framebox">
                        <h3 class="panel-title">{% trans "Reasons for Absence and Referral" %}</h3>
                        <br/>
                        <br/>
                        <table id="household-visit-child-table" class="table table-striped table-bordered cell-border"
                                       data-height="500"
                                       data-pagination="true"
                                       data-search="true"
                                       cellspacing="0"
                                       width="100%">
          <thead>
              <tr>
                  <th style = "display:none">ID</th>
                  <th>Child name</th>
                  <th>School</th>
                  <th>Grade</th>
                  <th>Age</th>
                  <th style = "display:none"></th>
                  <th style = "display:none"></th>
                  <th style = "display:none"></th>
              </tr>
          </thead>
          <tbody>

          </tbody>
      </table>
                      </li>
                      {# 3 Comments #}
                      <li class="framebox">
                        <h3 class="panel-title" >{% trans "Comments" %}</h3>
                        <br/>
                        <br/>
                        <table id="household-visit-comment-table" class="table table-striped table-bordered cell-border"
                                       data-height="500"
                                       data-pagination="true"
                                       data-search="true"
                                       cellspacing="0"
                                       width="100%">
                          <thead>
                              <tr>
                                  <th style = "display:none">ID</th>
                                  <th>Date</th>
                                  <th>Comment</th>
                              </tr>
                          </thead>
                          <tbody>

                          </tbody>
                        </table>
                        <br/>
                        <br/>
                      </li>
              </ul>
          </div>
          <ul class="pages" id="slySlider">
              <li class="active">1</li>
              <li>2</li>
              <li>3</li>
          </ul>
        </div>

      {% include 'hhvisit/child-visit-information.html' %}
      <div class="controls center">
      {% if LANGUAGE_CODE == 'ar-ar' %}
        <button class="btn btn-warning" type="button" id="hhCloseButton" style="float:left;">
          {% trans "Cancel" %}
        </button>
        <button class="btn btn-primary" type="button" id="hhSaveButton" style="float:left; display:none" >
          {% trans "Save" %}
        </button>
        <button class="btn btn-primary .prev" type="button" id="previousButton">
            <i class="icon-next-sign icon-white"></i> {% trans "previous" %}
        </button>
        <button class="btn btn-primary .next" type="button" id="nextButton">
              {% trans "next" %} <i class="icon-prev-sign icon-white"></i>
          </button>
      {% else %}

        <button class="btn btn-warning" type="button" id="hhCloseButton" style="float:right;">
            {% trans "Cancel" %}
        </button>

        <div style="width:190px;height:40px;float:left;">

        <button class="btn btn-primary" type="button" id="hhSaveButton" style="float:left; display:none">
          {% trans "Save" %}
        </button>

        </div>
        <button class="btn btn-primary .prev" type="button" id="previousButton">
            <i class="icon-prev-sign icon-white"></i> {% trans "previous" %}
        </button>
        <button class="btn btn-primary .next" type="button" id="nextButton">
              {% trans "next" %} <i class="icon-next-sign icon-white"></i>
          </button>
      {% endif %}
      </div>
    </form>
      </div>
