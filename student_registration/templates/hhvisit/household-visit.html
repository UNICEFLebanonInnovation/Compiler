{% load staticfiles i18n %}
{% get_current_language as LANGUAGE_CODE %}
{% load util_tags %}

{% block extra_head %}

    <link rel="stylesheet" type="text/css" href="{% static 'css/sly.css' %}"
          xmlns:font-weight="http://www.w3.org/1999/xhtml" xmlns:font-weight="http://www.w3.org/1999/xhtml">
    <link rel="stylesheet" type="text/css" href="{% static 'css/bootstrap-breadcrumbs.css' %}">

{% endblock %}

<div id="add_child_noid_block" style="display: block;">
    <form class="inlineForm form-medium-size" id="add_child_noid_form" onsubmit="return false;">

<div class="alert alert-success" role="alert" id="alert-synchro-success" style="display: none;;">
    {% trans 'Household visit success' %}.
    {% trans 'Please click' %}
    <a class="nav-link" href="{% url 'hhvisit:household_visit' %}?ln={{ LANGUAGE_CODE }}">{% trans "here" %}</a>
    {% trans 'To start a new household visit' %}.
</div>
<div class="alert alert-success" role="alert" id="alert-cancel-success" style="display: none;;">
    {% trans 'Household visit cancelled' %}.
    {% trans 'Please click' %}
    <a class="nav-link" href="{% url 'hhvisit:household_visit' %}?ln={{ LANGUAGE_CODE }}">{% trans "here" %}</a>
    {% trans 'To start a new household visit' %}.
</div>

{#<button type="button" id="registration-synchro">synch</button>#}

<form method="post" action="" class="inlineForm" id="household_visit_form" style="display: block;" onsubmit="return false;">
    <input type="hidden" name="id_hhvisit" id="main_id" />
{#    {% csrf_token %}#}
    {% if form.errors %}
        {% for field in form %}
            {% for error in field.errors %}
                <div class="alert alert-danger">
                    <strong>{{ error|escape }}</strong>
                </div>
            {% endfor %}
        {% endfor %}
        {% for error in form.non_field_errors %}
            <div class="alert alert-danger">
                <strong>{{ error|escape }}</strong>
            </div>
        {% endfor %}
    {% endif %}
    <div class="panel-body">
        <div id="oneperframex" class="frame oneperframe" {% if LANGUAGE_CODE == 'ar-ar' %}lang="en" dir="ltr"{% endif %}>
            <ul class="slidee" {% if LANGUAGE_CODE == 'ar-ar' %}lang="en" dir="ltr"{% endif %}>
                {# 1 Slide household information #}
                <li class="active framebox">
                    <h3 class="panel-title">{% trans "Household Specific Information" %}</h3>
                    <div class="line">
                        <label class="text">{% trans "Name of Household Rep" %} <span id ="hhVisitName"></span></label>
                    </div>
                    <div class="line">
                        <label class="text">{% trans "Times visited" %}<span id ="hhAllvisitAttemptCount"></span></label>
                    </div>
                    <div class="line">
                        <label class="text">{% trans "Dates of previous visits" %}</label>
                    </div>
                </li>
                {# 2 Slide household found #}
                <li class="framebox">
                    <h3 class="panel-title" >{% trans "Household Found" %}</h3>
                </li>
                {# 3 Slide children data #}
                <li class="framebox">
                    <h3 class="panel-title">{% trans "Reasons for Absence and Referral" %}</h3>
                    <div id="child_information_block" >
                        <table class="table table-striped table-bordered cell-border children_table" id="child_information_table"
                               data-height="500"
                               data-pagination="true"
                               data-search="true"
                               cellspacing="0"
                               width="100%">
                            <thead>
                                <th>{% trans "Full Name" %}</th>
                                <th>{% trans "School" %}</th>
                                <th>{% trans "Grade" %}</th>
                                <th>{% trans "Main Reason" %}</th>
                                <th>{% trans "Specific Reason" %}</th>
                                <th>{% trans "Service Provider" %}</th>
                                <th></th>
                                <th></th>
                            </thead>
                            <tbody>
                            </tbody>
                        </table>
                    </div>
                </li>
                {# 4 Comments #}
                <li class="framebox">
                    <h3 class="panel-title" >{% trans "Comments" %}</h3>
                </li>
        <ul class="pages" id="slySliderx">
            <li class="active">1</li>
            <li>2</li>
            <li>3</li>
            <li>4</li>
        </ul>
    </div>
</form>



      <table id="household-visit-attempt-table" class="table table-striped table-bordered cell-border"
                                       data-height="500"
                                       data-pagination="true"
                                       data-search="true"
                                       cellspacing="0"
                                       width="100%">
          <thead>
              <tr>
                  <th style = "display:none">ID</th>
                  <th>Date</th>
                  <th>Household was not found</th>
                  <th>Note</th>
              </tr>
          </thead>
          <tbody>

          </tbody>
      </table>

      <button id = "hhAddAttemptButton" >Add</button>

      <br/>
      <br/>


      <table id="household-visit-child-table" class="table table-striped table-bordered cell-border"
                                       data-height="500"
                                       data-pagination="true"
                                       data-search="true"
                                       cellspacing="0"
                                       width="100%">
          <thead>
              <tr>
                  <th style = "display:none">ID</th>
                  <th>Child name</th>
                  <th>School</th>
                  <th>Grade</th>
                  <th>Age</th>
              </tr>
          </thead>
          <tbody>

          </tbody>
      </table>


      <br/>
      <br/>


      <table id="household-visit-comment-table" class="table table-striped table-bordered cell-border"
                                       data-height="500"
                                       data-pagination="true"
                                       data-search="true"
                                       cellspacing="0"
                                       width="100%">
          <thead>
              <tr>
                  <th style = "display:none">ID</th>
                  <th>Date</th>
                  <th>Comment</th>
              </tr>
          </thead>
          <tbody>

          </tbody>
      </table>

      <br/>
      <br/>

      {% include 'hhvisit/child-visit-information.html' %}



      <br/>
      <br/>
      <div class="controls center">
      {% if LANGUAGE_CODE == 'ar-ar' %}

          <button class="btn btn-warning" type="button" id="cancelButton" style="float:left;">
              {% trans "Cancel household visit" %}
          </button>

          <button class="btn btn-primary .prev" type="button" id="previousButton">
              <i class="icon-next-sign icon-white"></i> {% trans "previous" %}
          </button>
          <button class="btn btn-primary .next" type="button" id="nextButton">
              {% trans "next" %} <i class="icon-prev-sign icon-white"></i>
          </button>
      {% else %}

          <button class="btn btn-warning" type="button" id="cancelButton" style="float:right;">
              {% trans "Cancel household visit" %}
          </button>

          <button class="btn btn-primary .prev" type="button" id="previousButton">
              <i class="icon-prev-sign icon-white"></i> {% trans "previous" %}
          </button>
          <button class="btn btn-primary .next" type="button" id="nextButton">
              {% trans "next" %} <i class="icon-next-sign icon-white"></i>
          </button>
      {% endif %}
      </div>

      <br/>
      <br/>

      <button id = "hhSaveButton" >Save</button>


      <br/>
      <br/>

      <button id = "hhCloseButton" >Close</button>


        <div class="panel-body">
        <div id="oneperframe" class="frame oneperframe" {% if LANGUAGE_CODE == 'ar-ar' %}lang="en" dir="ltr"{% endif %}>
            <ul class="slidee" {% if LANGUAGE_CODE == 'ar-ar' %}lang="en" dir="ltr"{% endif %}>


                <li class="active framebox">
                   x
                </li>

                <li class="active framebox">
                   y
                </li>

            </ul>
        </div>


        <ul class="pages" id="slySlider">
            <li class="active">1</li>
            <li>2</li>
        </ul>

