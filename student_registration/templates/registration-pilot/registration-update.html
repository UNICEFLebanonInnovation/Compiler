{% load staticfiles i18n %}
{% get_current_language as LANGUAGE_CODE %}
{% load util_tags %}

{% block extra_head %}

    <link rel="stylesheet" type="text/css" href="{% static 'css/bootstrap-breadcrumbs.css' %}">

{% endblock %}

<div id="edit_registration_block" style="display: block;">

      <div class="alert alert-success" role="alert" id="alert-cancel-success" style="display: none;;">
          {% trans 'Household update cancelled' %}.
          {% trans 'Please click' %}
      </div>

      <form method="post" action="" class="inlineForm" id="household_update_form" style="display: block;" onsubmit="return false;">
          <input type="hidden" name="id_hhedit" id="main_id" />
          {% if form.errors %}
              {% for field in form %}
                  {% for error in field.errors %}
                      <div class="alert alert-danger">
                          <strong>{{ error|escape }}</strong>
                      </div>
                  {% endfor %}
              {% endfor %}
              {% for error in form.non_field_errors %}
                  <div class="alert alert-danger">
                      <strong>{{ error|escape }}</strong>
                  </div>
              {% endfor %}
          {% endif %}
          <div class="panel-body">
             <div class="panel-body">
               <div id="oneperframe" class="frame oneperframe" {% if LANGUAGE_CODE == 'ar-ar' %}lang="en" dir="ltr"{% endif %}>
                  <ul class="slidee" {% if LANGUAGE_CODE == 'ar-ar' %}lang="en" dir="ltr"{% endif %}>
                    {# 1 Slide household Identity #}
                        <li class="active framebox">
                            <h3 class="panel-title">{% trans "Verify Caller Identity" %}&nbsp;&nbsp;</h3>
                            <br/>
                            <label >{% trans "Caller must answer 2 of the following questions correctly." %}&nbsp;&nbsp;</label>
                            <br/>
                            <br/>
                            <div class="line">
                                <label >{% trans "- Name of person that registered children: " %}&nbsp;&nbsp;</label> <span id ="hhName"></span>
                            </div>
                            <div class="line">
                                <label >{% trans "- ID Number: " %}&nbsp;&nbsp;</label><span id ="hhIdNumber"></span>
                            </div>
                            <div class="line">
                                <label >{% trans "- DOB of person that registered children " %}&nbsp;&nbsp;</label><span id ="hhDOB"></span>
                            </div>
                            <div class="line" >
                                <label >{% trans "- Last 4 digits on ATM Card: " %}&nbsp;&nbsp;</label><span id ="hhLastcardgigits"></span>
                            </div>
                            <div class="line" style="visibility: hidden;">
                                <label >{% trans "Primary phone: " %}&nbsp;&nbsp;</label><span id ="hhprimary_phone"></span>
                            </div>
                            <div class="line" style="visibility: hidden;">?
                                <label >{% trans "Secondary phone: " %}&nbsp;&nbsp;</label><span id ="hhsecondary_phone"></span>
                            </div>
                            <div class="line" style="visibility: hidden;">
                                <label >{% trans "Address: " %}&nbsp;&nbsp;</label><span id ="hhAddess"></span>
                            </div>
                        </li>
                    {# 2 Slide update data #}
                        <li class="framebox">
                          <h3 class="panel-title">{% trans "Updates and Complaints" %}</h3>
                          <br/>
                          <br/>
                          <label >{% trans "Please select: " %}&nbsp;&nbsp;</label>
                          <select id="changeOption">
                             <option value="" selected="selected">---------</option>
                             <optgroup label="UPDATE">
                                  <option value="phone">PHONE</option>
                                 <option value="address">ADDRESS</option>
                                  <option value="school">SCHOOL</option>
                                  <option value="beneficiary">BENEFICIARY CHANGE REQUEST</option>
                             </optgroup>
                              <optgroup label="VIEW INFO / COMPLAINTS">
                                  <option value="payment">PAYMENT INFORMATION</option>
                                  <option value="cardStatus">ATM CARD DISTRIBUTION STATUS</option>
                                  <option value="card">CARD and PIN USAGE</option>
                                  <option value="schoolComplaint">SCHOOL REALTED</option>
                                  <option value="removeComplaint">REMOVE FROM THE PROGRAM</option>
                                  <option value="otherComplaint">OTHER</option>
                              </optgroup>
                          </select>
                            <div id = "phoneFields" style="display:none">
                              <br/>
                              <div class="line">
                                  <label class="text">{% trans "Primary Phone Number: " %}</label>
                                  <input id="primary_phone" maxlength="45" type="text">
                                  <span class="error" id="primary_phone_length_error">{% trans "The phone number must be 8 digits" %}</span>
                              </div>
                              <div class="line">
                                  <label class="text">{% trans "Phone Number are normally answered by: " %}</label>
                                  <select id="primary_phone_answered" >
                                      {% for value, text in phoneAnsweredby %}
                                          <option value="{{ value }}">{{ text }}</option>
                                      {% endfor %}
                                  </select>
                                  <span class="error" id="primary_phone_answered_error">{% trans "Phone Number are normally answered by is missing" %}</span>
                              </div>
                              <div class="line">
                                  <label class="text">{% trans "Secondary Phone Number: " %}</label>
                                  <input id="secondary_phone" maxlength="45" type="text">
                                  <span class="error" id="secondary_phone_length_error">{% trans "The phone number must be 8 digits" %}</span>
                              </div>
                              <div class="line">
                                  <label class="text">{% trans "Phone Number are normally answered by: " %}</label>
                                  <select id="secondary_phone_answered" >
                                      {% for value, text in phoneAnsweredby %}
                                          <option value="{{ value }}">{{ text }}</option>
                                      {% endfor %}
                                  </select>
                                  <span class="error" id="secondary_phone_answered_error">{% trans "Phone Number are normally answered by is missing" %}</span>
                              </div>
                          </div>
                            <div class="line" id = "addressFields" style="display:none">
                                <br/>
                                <label class="text">{% trans "Address: " %}</label>
                                <textarea cols="30" id="address" name="address" rows="4"></textarea>
                            </div>
                            <div class="line" id = "beneficiaryFields" style="display:none">
                                <br/>
                                <div class="line" style="display:none">
                                    <label class="text">{% trans "Beneficiary Changed: " %}</label>
                                    <div id="radioBtn" class="btn-group beneficiary_changed_block">
                                        <a class="btn btn-primary btn-sm notActive" data-toggle="beneficiary_changed" data-title="1">{% trans "Yes" %}</a>
                                        <a class="btn btn-primary btn-sm active" data-toggle="beneficiary_changed" data-title="0">{% trans "No" %}</a>
                                    </div>
                                </div>
                                <div class="line">
                                    <label class="text">{% trans "First Name: " %}</label>
                                    <input id="first_name" maxlength="45" type="text">
                                </div>
                                <div class="line">
                                    <label class="text">{% trans "Father Name: " %}</label>
                                    <input id="father_name" maxlength="45" type="text">
                                </div>
                                <div class="line">
                                    <label class="text">{% trans "Last Name: " %}</label>
                                    <input id="last_name" maxlength="45" type="text">
                                </div>
                                <div class="line">
                                    <label class="text">{% trans "Mother Full  Name: " %}</label>
                                    <input id="mother_full_name" maxlength="45" type="text">
                                </div>
                                <div class="line field-select-small-size">
                                    <label class="text">{% trans "Date of birth" %}</label>
{#                                    {{ form.birthday_day }}#}
{#                                    {{ form.birthday_month }}#}
{#                                    {{ form.birthday_year }}#}
                                   // <span class="error" id="dob_error">{% trans "This field is required" %}</span>
                                </div>
                                <div class="line">
                                    <label class="text">{% trans "Realtionship to household head: " %}</label>
                                    <select id="relation_to_householdhead" >
                                        {% for value, text in relationToHouseholdHead %}
                                            <option value="{{ value }}">{{ text }}</option>
                                        {% endfor %}
                                    </select>
                                </div>
                                <div class="line">
                                    <label class="text">{% trans "Is the new beneficiary the same as person calling? " %}</label>
                                    <div id="radioBtn" class="btn-group same_as_caller_block">
                                        <a class="btn btn-primary btn-sm notActive" data-toggle="same_as_caller" data-title="1">{% trans "Yes" %}</a>
                                        <a class="btn btn-primary btn-sm active" data-toggle="same_as_caller" data-title="0">{% trans "No" %}</a>
                                    </div>
                                </div>
                                <div class="line">
                                    <label class="text">{% trans "Reason: " %}</label>
                                    <select id="eason" >
                                        {% for value, text in beneficiaryChangedReason %}
                                            <option value="{{ value }}">{{ text }}</option>
                                        {% endfor %}
                                    </select>
                                </div>
                            </div>
                            <div id = "schoolFields" style="display:none">
                                <br/>
                                <table id="schools-table" class="table table-striped table-bordered cell-border"
                                       data-height="500"
                                       data-pagination="true"
                                       data-search="true"
                                       cellspacing="0"
                                       width="100%">
                                  <thead>
                                      <tr>
                                          <th style = "display:none">>ID</th>
                                          <th>Child</th>
                                          <th>School</th>
                                      </tr>
                                  </thead>
                                  <tbody>

                                  </tbody>
                                </table>
                                <div id = "childSchool" style = "display:none">
                                    <select>
                                        {% for school in schools %}
                                            <option value="{{ school.id }}">
                                                {{ school.name }}
                                            </option>
                                        {% endfor %}
                                    </select>
                                </div>
                            </div>
                            <div id = "paymentFields" style="display:none">
                                <br/>
                                <table id="payments-table" class="table table-striped table-bordered cell-border"
                                       data-height="500"
                                       data-pagination="true"
                                       data-search="true"
                                       cellspacing="0"
                                       width="100%">
                                  <thead>
                                      <tr>
                                          <th style = "display:none">>ID</th>
                                          <th>Date</th>
                                          <th>Amount</th>
                                          <th>Month</th>
                                          <th>Year</th>
                                      </tr>
                                  </thead>
                                  <tbody>

                                  </tbody>
                                </table>
                            </div>
                            <div class="line" id = "cardStatusFields" style="display:none">
                                <br/>
                                <div class="line">
                                    <label >{% trans "Card Status: " %}&nbsp;&nbsp;</label> <span id ="hhCardStatus"></span>
                                </div>
                                <div class="line">
                                    <label >{% trans "Date of distribution: " %}</label> <span id ="hhDateOfDistribution"></span>
                                </div>
                                <button class="btn btn-primary" type="button" id="Card_complaintButton">
                                    Complaint
                                </button>
                                <div class="line" id = "ComplaintFields" >
                                <label class="text">{% trans "Complaint: " %}</label>
                                <textarea cols="30" id="complaint" name="complaint" rows="4"></textarea>
                            </div>


                            </div>
                            <div class="line" id = "cardFields" style="display:none">
                                <br/>
                                <label class="text">{% trans "tt: " %}</label>
                                  <select id="card_complaint" >
                                      {% for itm in PAYMENTComplaintTypes %}
                                          <option value="{{ itm.id }}">{{ itm.name }}</option>
                                      {% endfor %}
                                  </select>
                            </div>
                            <div class="line" id = "removeFields" style="display:none">
                                <br/>
                            </div>
                            <div class="line" id = "otherFields" style="display:none">
                                <br/>
                            </div>

                        </li>
                  </ul>
            </div>
          <ul class="pages" id="slySlider">
              <li class="active">1</li>
              <li>2</li>
          </ul>
        </div>

      <div class="controls center">
      {% if LANGUAGE_CODE == 'ar-ar' %}
        <button class="btn btn-warning" type="button" id="hhCloseButton" style="float:left;">
          {% trans "Cancel" %}
        </button>
        <button class="btn btn-primary" type="button" id="hhSaveButton" style="float:left; display:none" >
          {% trans "Save" %}
        </button>
        <button class="btn btn-primary .prev" type="button" id="previousButton">
            <i class="icon-next-sign icon-white"></i> {% trans "previous" %}
        </button>
        <button class="btn btn-primary .next" type="button" id="nextButton">
              {% trans "next" %} <i class="icon-prev-sign icon-white"></i>
          </button>
      {% else %}

        <button class="btn btn-warning" type="button" id="hhCloseButton" style="float:right;">
            {% trans "Cancel" %}
        </button>
        <button class="btn btn-primary" type="button" id="hhSaveButton" style="float:left; display:none">
          {% trans "Save" %}
        </button>
        <button class="btn btn-primary .prev" type="button" id="previousButton">
            <i class="icon-prev-sign icon-white"></i> {% trans "previous" %}
        </button>
        <button class="btn btn-primary .next" type="button" id="nextButton">
              {% trans "next" %} <i class="icon-next-sign icon-white"></i>
          </button>
      {% endif %}
      </div>
    </form>
      </div>
