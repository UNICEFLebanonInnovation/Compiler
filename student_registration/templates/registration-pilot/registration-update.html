{% load staticfiles i18n %}
{% get_current_language as LANGUAGE_CODE %}
{% load util_tags %}

{% block extra_head %}

    <link rel="stylesheet" type="text/css" href="{% static 'css/bootstrap-breadcrumbs.css' %}">

{% endblock %}

<div id="edit_registration_block" style="display: block;">

      <div class="alert alert-success" role="alert" id="alert-cancel-success" style="display: none;;">
          {% trans 'Household update cancelled' %}.
          {% trans 'Please click' %}
      </div>

      <form method="post" action="" class="inlineForm" id="household_update_form" style="display: block;" onsubmit="return false;">
          <input type="hidden" name="id_hhedit" id="main_id" />
          {% if form.errors %}
              {% for field in form %}
                  {% for error in field.errors %}
                      <div class="alert alert-danger">
                          <strong>{{ error|escape }}</strong>
                      </div>
                  {% endfor %}
              {% endfor %}
              {% for error in form.non_field_errors %}
                  <div class="alert alert-danger">
                      <strong>{{ error|escape }}</strong>
                  </div>
              {% endfor %}
          {% endif %}
          <div class="panel-body">
             <div class="panel-body">
               <div id="oneperframe" class="frame oneperframe" {% if LANGUAGE_CODE == 'ar-ar' %}lang="en" dir="ltr"{% endif %}>
                  <ul class="slidee" {% if LANGUAGE_CODE == 'ar-ar' %}lang="en" dir="ltr"{% endif %}>
                    {# 1 Slide household Identity #}
                        <li class="active framebox">
                            <div class="line" id="hhsuspended" style="display: none">
                                <label  style="color: red">{% trans "Please note that this household is currently suspended " %}</label><span id ="HHSuspendedNote"></span>
                            </div>
                            <h3 class="panel-title">{% trans "Verify Caller Identity" %}&nbsp;&nbsp;</h3>
                            <br>
                            <label >{% trans "Caller must answer 2 of the following questions correctly." %}&nbsp;&nbsp;</label>
                            <br>
                            <div class="line">
                                <label >{% trans "- Name of person that registered children: " %}&nbsp;&nbsp;</label> <span id ="hhName"></span>
                            </div>
                            <div class="line">
                                <label >{% trans "- ID Number: " %}&nbsp;&nbsp;</label><span id ="hhIdNumber"></span>
                            </div>
                            <div class="line">
                                <label >{% trans "- DOB of person that registered children " %}&nbsp;&nbsp;</label><span id ="hhDOB"></span>
                            </div>
                            <div class="line" >
                                <label >{% trans "- Last 4 digits on ATM Card: " %}&nbsp;&nbsp;</label><span id ="hhLastcardgigits"></span>
                            </div>
                            <div class="line" >
                                <label >{% trans "- Primary phone: " %}&nbsp;&nbsp;</label><span id ="hhprimary_phone"></span>
                            </div>
                            <div class="line" >
                                <label >{% trans "- Secondary phone: " %}&nbsp;&nbsp;</label><span id ="hhsecondary_phone"></span>
                            </div>
                            <div class="line" style="visibility: hidden;">
                                <label >{% trans "- Address: " %}&nbsp;&nbsp;</label><span id ="hhAddess"></span>
                            </div>
                        </li>
                    {# 2 Slide update data #}
                        <li class="framebox">
                          <h3 class="panel-title">{% trans "Updates and Complaints" %}</h3>
                          <br>
                          <label >{% trans "Please select: " %}&nbsp;&nbsp;</label>
                          <select id="changeOption">
                             <option value="" selected="selected">---------</option>
                             <optgroup label="UPDATE">
                                  <option value="phone">PHONE</option>
                                 <option value="address">ADDRESS</option>
                                  <option value="school_change">SCHOOL</option>
                                  <option value="beneficiary">BENEFICIARY CHANGE REQUEST</option>
                             </optgroup>
                              <optgroup label="VIEW INFO / COMPLAINTS">
                                  <option value="payment">PAYMENT INFORMATION</option>
                                  <option value="cardStatus">ATM CARD DISTRIBUTION STATUS</option>
                                  <option value="card">CARD and PIN USAGE</option>
                                  <option value="refusedServiceBLF"> Refused Service by BLF </option>
                                  <option value="schoolRefusedEntrance">SCHOOL DIRECTOR REFUSED RE-ENTRY</option>
                                  <option value="reinstateBeneficiary">REINSTATE BENEFICIARY</option>
                                   <option value="twoCards">TWO RED CARDS</option>
                                  <option value="otherComplaint">OTHER</option>
                              </optgroup>
                          </select>
                        <hr>
                            <div id = "phoneFields" style="display:none">
                              <br>
                              <div class="line">
                                  <label class="text">{% trans "Primary Phone Number: " %}</label>
                                  <input id="primary_phone" maxlength="45" type="text">
                                  <span class="error" id="primary_phone_length_error">{% trans "The phone number must be 8 digits" %}</span>
                              </div>
                                <div class="line">
                                  <label class="text">{% trans "Confirm Phone Number: " %}</label>
                                  <input id="primary_phone_confirm" maxlength="45" type="text">
                                  <span class="error" id="primary_phone_confirm_error">{% trans "Phone mismatch" %}</span>
                              </div>
                              <div class="line">
                                  <label class="text">{% trans "Phone Number are normally answered by: " %}</label>
                                  <select id="primary_phone_answered" >
                                      {% for value, text in phoneAnsweredby %}
                                          <option value="{{ value }}">{{ text }}</option>
                                      {% endfor %}
                                  </select>
                                  <span class="error" id="primary_phone_answered_error">{% trans "Phone Number are normally answered by is missing" %}</span>
                              </div>
                                <div class="line">
                                    <label class="text">{% trans "Secondary Phone Number: " %}</label>
                                    <input id="secondary_phone" maxlength="45" type="text">
                                    <span class="error" id="secondary_phone_length_error">{% trans "The phone number must be 8 digits" %}</span>
                                </div>
                                <div class="line">
                                    <label class="text">{% trans "Confirm Phone Number: " %}</label>
                                    <input id="secondary_phone_confirm" maxlength="45" type="text">
                                    <span class="error" id="secondary_phone_confirm_error">{% trans "Phone mismatch" %}</span>
                                </div>
                              <div class="line">
                                  <label class="text">{% trans "Phone Number are normally answered by: " %}</label>
                                  <select id="secondary_phone_answered" >
                                      {% for value, text in phoneAnsweredby %}
                                          <option value="{{ value }}">{{ text }}</option>
                                      {% endfor %}
                                  </select>
                                  <span class="error" id="secondary_phone_answered_error">{% trans "Phone Number are normally answered by is missing" %}</span>
                              </div>
                          </div>
                            <div class="line" id = "addressFields" style="display:none">
                                <br>
                                <label class="text">{% trans "Address: " %}</label>
                                <textarea cols="30" id="address" name="address" rows="4"></textarea>
                            </div>
                            <div class="line" id = "beneficiaryFields" style="display:none">
                                <br>
                                <div class="line" style="display:none">
                                    <label class="text">{% trans "Beneficiary Changed: " %}</label>
                                    <div id="radioBtn" class="btn-group beneficiary_changed_block">
                                        <a class="btn btn-primary btn-sm notActive" data-toggle="beneficiary_changed" data-title="1">{% trans "Yes" %}</a>
                                        <a class="btn btn-primary btn-sm active" data-toggle="beneficiary_changed" data-title="0">{% trans "No" %}</a>
                                    </div>
                                </div>
                                <div class="line">
                                    <label class="text" style="width: 200px;">{% trans "ID Type: " %}</label>
                                    <select id="idType" >
                                        {% for itm in idType %}
                                          <option value="{{ itm.id }}">{{ itm.name }}</option>
                                      {% endfor %}
                                    </select>
                                </div>
                                <div id = "UNHCR" >
                                    <label class="text" style="width: 200px;">{% trans "Individual ID number: " %}</label>
                                </div>
                                <div  id = "Other" style="display:none">
                                    <label class="text" style="width: 200px;">{% trans "ID number: " %}</label>
                                </div>
                                <div  >
                                <input id="id_number" maxlength="45" type="text">
                                </div>
                                <div class="line">
                                    <label class="text" style="width: 200px;">{% trans "New Beneficiary First Name (Arabic): " %}</label>
                                    <input id="first_name" maxlength="45" type="text">
                                </div>
                                <div class="line">
                                    <label class="text" style="width: 200px;">{% trans "New Beneficiary Father Name (Arabic): " %}</label>
                                    <input id="father_name" maxlength="45" type="text">
                                </div>
                                <div class="line">
                                    <label class="text" style="width: 200px;">{% trans "New Beneficiary Last Name (Arabic): " %}</label>
                                    <input id="last_name" maxlength="45" type="text">
                                </div>
                                <div class="line">
                                    <label class="text" style="width: 200px;">{% trans "New Beneficiary Mother Full  Name (Arabic): " %}</label>
                                    <input id="mother_full_name" maxlength="45" type="text">
                                </div>
                                <div class="line">
                                    <label class="text" style="width: 200px;">{% trans "New Beneficiary Gender: " %}</label>
                                    <select id="gender" >
                                        {% for value, text in gender %}
                                            <option value="{{ value }}">{{ text }}</option>
                                        {% endfor %}
                                    </select>
                                </div>
                                <div class="line field-select-small-size">
                                    <label class="text" style="width: 200px;">{% trans "New Beneficiary DOB" %}</label>
                                    <select id="days" ></select>
                                    <select id="months" >
                                        {% for value, text in months %}
                                            <option value="{{ value }}">{{ text }}</option>
                                        {% endfor %}
                                    </select>
                                    <select id="years" >
                                    </select>
                                </div>
                                <div class="line">
                                    <label class="text" style="width: 200px;">{% trans "Realtionship to household head: " %}</label>
                                    <select id="relation_to_householdhead" >
                                        {% for value, text in relationToHouseholdHead %}
                                            <option value="{{ value }}">{{ text }}</option>
                                        {% endfor %}
                                    </select>
                                </div>
                                <div class="line">
                                    <label class="text" style="width: 200px;">{% trans "New Beneficiary Phone Number: " %}</label>
                                    <input id="beneficiary_phone" maxlength="45" type="text">
                                    <span class="error" id="beneficiary_phone_length_error">{% trans "The phone number must be 8 digits" %}</span>
                                </div>
                                <div class="line">
                                  <label class="text" style="width: 200px;">{% trans "Confirm Phone Number: " %}</label>
                                  <input id="beneficiary__phone_confirm" maxlength="45" type="text">
                                  <span class="error" id="beneficiary_phone_confirm_error">{% trans "Phone mismatch" %}</span>
                              </div>

                                <div class="line">
                                    <label class="text" style="width: 200px;">{% trans "Is the new beneficiary the same as person calling? " %}</label>
                                    <div id="radioBtn" class="btn-group same_as_caller_block">
                                        <a class="btn btn-primary btn-sm notActive" data-toggle="same_as_caller" data-title="1">{% trans "Yes" %}</a>
                                        <a class="btn btn-primary btn-sm active" data-toggle="same_as_caller" data-title="0">{% trans "No" %}</a>
                                    </div>
                                </div>
                                <div class="line">
                                    <label class="text" style="width: 200px;">{% trans "Reason: " %}</label>
                                    <select id="reason" >
                                        {% for itm in beneficiaryChangedReason %}
                                          <option value="{{ itm.id }}">{{ itm.name }}</option>
                                      {% endfor %}
                                    </select>
                                </div>
                            </div>
                            <div id = "schoolChangeFields" style="display:none">
                                <br>
                                <table id="schools-table" class="table table-striped table-bordered cell-border"
                                       data-height="500"
                                       data-pagination="true"
                                       data-search="true"
                                       cellspacing="0"
                                       width="100%">
                                  <thead>
                                      <tr>
                                          <th style = "display:none">>ID</th>
                                          <th>Child</th>
                                          <th>School</th>
                                      </tr>
                                  </thead>
                                  <tbody>

                                  </tbody>
                                </table>
                                <div id = "childSchool" style = "display:none">
                                    <select>
                                        {% for school in schools %}
                                            <option value="{{ school.id }}">
                                                {{ school.name }}
                                            </option>
                                        {% endfor %}
                                    </select>
                                </div>
                            </div>
                            <div id = "paymentFields" style="display:none">

                            <div class="line" >
                                <label >{% trans "Household Status: " %}&nbsp;&nbsp;</label><span id ="hhsuspended_payment"></span>
                            </div>
                                <table id="payments-table" class="table table-striped table-bordered cell-border"
                                       data-height="500"
                                       data-pagination="true"
                                       data-search="true"
                                       cellspacing="0"
                                       width="100%">
                                  <thead>
                                      <tr>
                                          <th style = "display:none">>ID</th>
                                          <th>Date</th>
                                          <th>Amount</th>
                                          <th>Month</th>
                                          <th>Year</th>
                                      </tr>
                                  </thead>
                                  <tbody>

                                  </tbody>
                                </table>
                                <br>
                                <table id="children-table" class="table table-striped table-bordered cell-border"
                                       data-height="500"
                                       data-pagination="true"
                                       data-search="true"
                                       cellspacing="0"
                                       width="100%">
                                    <thead>
                                    <tr>
                                        <th style = "display:none">>ID</th>
                                        <th>Child</th>
                                        <th>DOB</th>
                                        <th>School</th>
                                    </tr>
                                    </thead>
                                    <tbody>

                                    </tbody>
                                </table>
                                <br>
                                <label class="text" style="width: 200px;">{% trans "Complaint Type: " %}</label>
                                <select id="payment_complaint" >
                                    {% for itm in payment_complaint_types %}
                                        <option value="{{ itm.id }}">{{ itm.name }}</option>
                                    {% endfor %}
                                </select>
                            </div>
                            <div class="line" id = "cardStatusFields" style="display:none">
                                <div class="line">
                                    <label >{% trans "Card Status: " %}&nbsp;&nbsp;</label> <span id ="hhCardStatus"></span>
                                </div>
                                <div class="line">
                                    <label >{% trans "Date of distribution: " %}</label> <span id ="hhDateOfDistribution"></span>
                                </div>
                                <br>
                                <label class="text" style="width: 200px;">{% trans "Complaint Type: " %}</label>
                                <select id="card_distribution_complaint" >
                                    {% for itm in card_distribution_cmplaint_types %}
                                        <option value="{{ itm.id }}">{{ itm.name }}</option>
                                    {% endfor %}
                                </select>

                            </div>
                            <div class="line" id = "cardFields" style="display:none">
                                <label class="text" style="width: 200px;">{% trans "Complaint Type: " %}</label>
                                <select id="card_complaint" >
                                    {% for itm in card_complaint_types %}
                                        <option value="{{ itm.id }}">{{ itm.name }}</option>
                                    {% endfor %}
                                </select>

                            </div>
                            <div class="line" id = "reinstateBeneficiaryFields" style="display:none">

                                <label class="text" style="width: 200px;">{% trans "Complaint Type: " %}</label>
                                <select id="school_complaint" >
                                    {% for itm in reinstate_beneficiary_complaint_types %}
                                        <option value="{{ itm.id }}">{{ itm.name }}</option>
                                    {% endfor %}
                                </select>
                            </div>
                            <div class="line" id = "schoolRefusedEntranceFields" style="display:none">
                                <label class="text" style="width: 200px;">{% trans "Complaint Type: " %}</label>
                                <select id="school_complaint" >
                                    {% for itm in school_complaint_types %}
                                        <option value="{{ itm.id }}">{{ itm.name }}</option>
                                    {% endfor %}
                                </select>
                            </div>
                            <div class="line" id = "otherFields" style="display:none">
                                <label class="text" style="width: 200px;">{% trans "Complaint Type: " %}</label>
                                <select id="other_complaint" >
                                    {% for itm  in other_complaint_types %}
                                        <option value="{{ itm.id }}">{{ itm.name }}</option>
                                    {% endfor %}
                                </select>
                            </div>
                            <div class="line" id = "bankFields" style="display:none">
                                <label class="text" style="width: 200px;">{% trans "Complaint Type: " %}</label>
                                <select id="bank_complaint" >
                                    {% for itm  in bank_complaint_types %}
                                        <option value="{{ itm.id }}">{{ itm.name }}</option>
                                    {% endfor %}
                                </select>
                            </div>
                            <div class="line" id = "twoCardsFields" style="display:none">
                                <div class="line">
                                    <label class="text">{% trans "Case Number on First Card: " %}</label>
                                    <input id="first_card_case_number" maxlength="45" type="text">
                                </div>
                                <div class="line">
                                    <label class="text">{% trans "Confirm Case Number on First Card: " %}</label>
                                    <input id="first_card_case_number_confirm" maxlength="45" type="text">
                                </div>
                                <div class="line">
                                    <label class="text">{% trans "Last four digits of the  First Card: " %}</label>
                                    <input id="first_card_last_four_digits" maxlength="45" type="text">
                                </div>

                                <div class="line">
                                    <label class="text">{% trans "Case Number on Second Card: " %}</label>
                                    <input id="second_card_case_number" maxlength="45" type="text">
                                </div>
                                <div class="line">
                                    <label class="text">{% trans "Confirm Case Number on Second Card: " %}</label>
                                    <input id="second_card_case_number_confirm" maxlength="45" type="text">
                                </div>
                                <div class="line">
                                    <label class="text">{% trans "Last four digits of the  Second Card: " %}</label>
                                    <input id="secondcard_last_four_digits" maxlength="45" type="text">
                                </div>


                            </div>
                            <div class="line" id = "ComplaintFields" style="display:none">
                                <label class="text" style="width: 200px;">{% trans "Comment: " %}</label>
                                <textarea cols="38" id="complaint" name="complaint" rows="1"></textarea>
                                <br>
                                <label class="text" style="width: 400px;">{% trans "Complaint History: " %}</label>
                                <table id="complaints-table" class="table table-striped table-bordered cell-border"
                                       data-height="500"
                                       data-pagination="true"
                                       data-search="true"
                                       cellspacing="0"
                                       width="100%">
                                    <thead>
                                    <tr>
                                        <th style = "display:none">>ID</th>
                                        <th>Type of Complaint</th>
                                        <th>Date of Complaint</th>
                                        <th>Details</th>
                                        <th>Complaint Status</th>
                                        <th>Comments</th>
                                        <th>Date of Resolution</th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    </tbody>
                                </table>
                            </div>
                        </li>
                  </ul>
            </div>
          <ul class="pages" id="slySlider">
              <li class="active">1</li>
              <li>2</li>
          </ul>
        </div>

      <div class="controls center">
      {% if LANGUAGE_CODE == 'ar-ar' %}
        <button class="btn btn-warning" type="button" id="hhCloseButton" style="float:left;">
          {% trans "Cancel" %}
        </button>
        <button class="btn btn-primary" type="button" id="hhSaveButton" style="float:left; display:none" >
          {% trans "Save" %}
        </button>
        <button class="btn btn-primary .prev" type="button" id="previousButton">
            <i class="icon-next-sign icon-white"></i> {% trans "previous" %}
        </button>
        <button class="btn btn-primary .next" type="button" id="nextButton">
              {% trans "next" %} <i class="icon-prev-sign icon-white"></i>
          </button>
      {% else %}

        <button class="btn btn-warning" type="button" id="hhCloseButton" style="float:right;">
            {% trans "Cancel" %}
        </button>
        <button class="btn btn-primary" type="button" id="hhSaveButton" style="float:left; display:none">
          {% trans "Save" %}
        </button>
        <button class="btn btn-primary .prev" type="button" id="previousButton">
            <i class="icon-prev-sign icon-white"></i> {% trans "previous" %}
        </button>
        <button class="btn btn-primary .next" type="button" id="nextButton">
              {% trans "next" %} <i class="icon-next-sign icon-white"></i>
          </button>
      {% endif %}
      </div>
    </form>
      </div>
